<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CreativeStudio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="top-nav">
        <div class="left-section">
            <div class="logo">CreativeStudio</div>
            
            <button class="btn-purple" id="headerUploadBtn" style="margin-left: 20px;">
                <i class="fas fa-cloud-upload-alt"></i> Upload
            </button>
            <input type="file" id="hiddenUploadInput" accept="image/*" hidden>
        </div>

        <div class="header-quick-tools">
            <button class="icon-btn-text" id="headerCropBtn" title="Crop to Square">
                <i class="fas fa-crop-alt"></i> <span>Crop</span>
            </button>
            <button class="icon-btn-text" id="headerRotateBtn" title="Rotate 90¬∞">
                <i class="fas fa-sync-alt"></i> <span>Rotate</span>
            </button>
        </div>

        <div class="nav-actions">
            <button class="icon-btn" id="themeToggleBtn" title="Toggle Dark/Light Mode">
                <i class="fas fa-moon"></i>
            </button>
            <button class="icon-btn" id="undoBtn" title="Undo"><i class="fas fa-arrow-left"></i></button>
            <button class="icon-btn" id="redoBtn" title="Redo"><i class="fas fa-arrow-right"></i></button>
            <button class="btn-purple header-btn" id="downloadBtn">
                <i class="fas fa-download"></i> Download
            </button>
        </div>
    </header>

    <div class="main-container">

        <div class="icon-sidebar">
            <div class="sidebar-icon active" data-target="panel-templates"><i class="fas fa-th-large"></i><span>Templates</span></div>
            <div class="sidebar-icon" data-target="panel-filters"><i class="fas fa-magic"></i><span>Filters</span></div>
            <div class="sidebar-icon" data-target="panel-text"><i class="fas fa-font"></i><span>Text</span></div>
            <div class="sidebar-icon" data-target="panel-stickers"><i class="fas fa-smile"></i><span>Stickers</span></div>
            <div class="sidebar-icon" data-target="panel-shapes"><i class="fas fa-shapes"></i><span>Shapes</span></div>
            <div class="sidebar-icon" data-target="panel-draw"><i class="fas fa-pencil-alt"></i><span>Draw</span></div>
        </div>

        <div class="tools-panel" id="toolsPanel">
            
            <div class="tool-section active" id="panel-templates">
                <h3>Templates</h3>
                <div class="grid-2-col">
                    <div class="template-item">Instagram</div>
                    <div class="template-item">Facebook</div>
                    <div class="template-item">Story</div>
                    <div class="template-item">PostCard</div>
                </div>
            </div>

            <div class="tool-section" id="panel-filters">
                <h3>Filters</h3>
                <p style="font-size:12px; color:var(--text-muted); margin-bottom:10px;">Select image first</p>
                <div class="button-grid">
                    <button class="tool-btn filter-btn" data-filter="grayscale">B&W</button>
                    <button class="tool-btn filter-btn" data-filter="sepia">Sepia</button>
                    <button class="tool-btn filter-btn" data-filter="invert">Invert</button>
                    <button class="tool-btn filter-btn" data-filter="reset">Reset</button>
                </div>
            </div>

            <div class="tool-section" id="panel-text">
                <h3>Add Text</h3>
                <button class="btn-purple full-width-btn" id="addTextBtn">+ Add Heading</button>
                <div id="textControls" style="display:none; margin-top:15px; border-top:1px solid var(--border-color); padding-top:10px;">
                    <label>Font</label>
                    <select id="fontFamilySelect" class="tool-select">
                        <option value="Arial">Arial</option>
                        <option value="Times New Roman">Times New Roman</option>
                        <option value="Courier New">Courier New</option>
                        <option value="Impact">Impact</option>
                    </select>
                    <label>Color</label>
                    <input type="color" id="textColorPicker" class="color-picker" value="#000000">
                </div>
            </div>

            <div class="tool-section" id="panel-stickers">
                <h3>Stickers</h3>
                <div class="sticker-grid">
                    <button class="sticker-btn" onclick="addSticker('üòé')">üòé</button>
                    <button class="sticker-btn" onclick="addSticker('üî•')">üî•</button>
                    <button class="sticker-btn" onclick="addSticker('‚ù§Ô∏è')">‚ù§Ô∏è</button>
                    <button class="sticker-btn" onclick="addSticker('üéâ')">üéâ</button>
                    <button class="sticker-btn" onclick="addSticker('‚≠ê')">‚≠ê</button>
                    <button class="sticker-btn" onclick="addSticker('üëë')">üëë</button>
                </div>
            </div>

            <div class="tool-section" id="panel-shapes">
                <h3>Shapes</h3>
                <div class="button-grid">
                    <button class="tool-btn" id="addRectBtn"><i class="far fa-square"></i></button>
                    <button class="tool-btn" id="addCircleBtn"><i class="far fa-circle"></i></button>
                    <button class="tool-btn" id="addTriangleBtn"><i class="fas fa-play fa-rotate-270"></i></button>
                </div>
                <label style="margin-top:10px; display:block;">Shape Color</label>
                <input type="color" id="shapeColorPicker" class="color-picker" value="#8b3dff">
            </div>

            <div class="tool-section" id="panel-draw">
                <h3>Free Draw</h3>
                <button class="tool-btn full-width-btn" id="toggleDrawBtn">Enable Drawing</button>
                <div id="drawingControls" style="display:none; margin-top:10px;">
                     <label>Color</label>
                     <input type="color" id="brushColor" class="color-picker" value="#000000">
                     <label>Size</label>
                     <input type="range" id="brushSize" min="1" max="50" value="5">
                </div>
            </div>
        </div>

        <div class="canvas-area">
            <div class="canvas-container-wrapper">
                <canvas id="editorCanvas"></canvas>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <script src="script.js"></script>
</body>
</html>